{"ast":null,"code":"import axios from 'axios';\naxios.defaults.baseURL = process.env.REACT_APP_URL;\nexport default {\n  getTasks: async () => {\n    try {\n      const result = await axios.get(\"https://todoapi-2l8v.onrender.com/getAll\", {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json' // הוסף את הכותרת הזו אם ה-API מצפה לה\n        }\n      });\n      console.log('Raw response:', result.data); // בדוק את התגובה הגולמית\n\n      console.log(\"Full API Response:\", result);\n      if (result.status === 200) {\n        console.log(\"Raw response from API:\", result.data);\n        if (Array.isArray(result.data) && result.data.length > 0) {\n          return result.data;\n        } else {\n          console.error(\"Error: API response is empty or not an array!\", result.data);\n          return [];\n        }\n      } else {\n        console.error(\"Error: Received non-OK status code\", result.status);\n      }\n      return [];\n    } catch (err) {\n      console.error('Error getting tasks:', err);\n      return [];\n    }\n  },\n  addTask: async name => {\n    console.log('addTask', name);\n    try {\n      const result = await axios.post(`add?Name=${encodeURIComponent(name)}`);\n      return result.data;\n    } catch (err) {\n      console.error('Error adding task:', err);\n    }\n  },\n  setCompleted: async (id, isComplete) => {\n    console.log('setCompleted', {\n      id,\n      isComplete\n    });\n    try {\n      const result = await axios.patch(`update/${id}`, isComplete, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      return result.data;\n    } catch (err) {\n      console.error('Error setting completion:', err);\n    }\n  },\n  deleteTask: async id => {\n    console.log('deleteTask', id);\n    try {\n      const result = await axios.delete(`/delete/${id}`);\n      return result.data;\n    } catch (err) {\n      console.error('Error deleting task:', err);\n    }\n  }\n};","map":{"version":3,"names":["axios","defaults","baseURL","process","env","REACT_APP_URL","getTasks","result","get","headers","console","log","data","status","Array","isArray","length","error","err","addTask","name","post","encodeURIComponent","setCompleted","id","isComplete","patch","deleteTask","delete"],"sources":["C:/Users/elish/הנדסאים/פרקטיקוד/פרקטיקוד 4/gitHub/Deploy-Apps/ToDoListReact-master/src/service.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = process.env.REACT_APP_URL;\n\nexport default {\n  getTasks: async () => {\n    try {\n      const result = await axios.get(\"https://todoapi-2l8v.onrender.com/getAll\", {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'  // הוסף את הכותרת הזו אם ה-API מצפה לה\n        }\n      });\n      console.log('Raw response:', result.data);  // בדוק את התגובה הגולמית\n\n      console.log(\"Full API Response:\", result);\n      if (result.status === 200) {\n        console.log(\"Raw response from API:\", result.data);\n        if (Array.isArray(result.data) && result.data.length > 0) {\n          return result.data;\n        } else {\n          console.error(\"Error: API response is empty or not an array!\", result.data);\n          return [];\n        }\n      } else {\n        console.error(\"Error: Received non-OK status code\", result.status);\n      }\n      return [];\n    } catch (err) {\n      console.error('Error getting tasks:', err);\n      return [];\n    }\n  }\n  ,\n\n\n  addTask: async (name) => {\n    console.log('addTask', name)\n    try {\n      const result = await axios.post(`add?Name=${encodeURIComponent(name)}`);\n      return result.data;\n    } catch (err) {\n      console.error('Error adding task:', err);\n    }\n  },\n\n  setCompleted: async (id, isComplete) => {\n    console.log('setCompleted', { id, isComplete });\n    try {\n      const result = await axios.patch(`update/${id}`, isComplete, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }); return result.data;\n    } catch (err) {\n      console.error('Error setting completion:', err);\n    }\n  },\n\n  deleteTask: async (id) => {\n    console.log('deleteTask', id);\n    try {\n      const result = await axios.delete(`/delete/${id}`);\n      return result.data;\n    } catch (err) {\n      console.error('Error deleting task:', err);\n    }\n  }\n\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,aAAa;AAElD,eAAe;EACbC,QAAQ,EAAE,MAAAA,CAAA,KAAY;IACpB,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,0CAA0C,EAAE;QACzEC,OAAO,EAAE;UACP,QAAQ,EAAE,kBAAkB;UAC5B,cAAc,EAAE,kBAAkB,CAAE;QACtC;MACF,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,MAAM,CAACK,IAAI,CAAC,CAAC,CAAE;;MAE5CF,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEJ,MAAM,CAAC;MACzC,IAAIA,MAAM,CAACM,MAAM,KAAK,GAAG,EAAE;QACzBH,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEJ,MAAM,CAACK,IAAI,CAAC;QAClD,IAAIE,KAAK,CAACC,OAAO,CAACR,MAAM,CAACK,IAAI,CAAC,IAAIL,MAAM,CAACK,IAAI,CAACI,MAAM,GAAG,CAAC,EAAE;UACxD,OAAOT,MAAM,CAACK,IAAI;QACpB,CAAC,MAAM;UACLF,OAAO,CAACO,KAAK,CAAC,+CAA+C,EAAEV,MAAM,CAACK,IAAI,CAAC;UAC3E,OAAO,EAAE;QACX;MACF,CAAC,MAAM;QACLF,OAAO,CAACO,KAAK,CAAC,oCAAoC,EAAEV,MAAM,CAACM,MAAM,CAAC;MACpE;MACA,OAAO,EAAE;IACX,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZR,OAAO,CAACO,KAAK,CAAC,sBAAsB,EAAEC,GAAG,CAAC;MAC1C,OAAO,EAAE;IACX;EACF,CAAC;EAIDC,OAAO,EAAE,MAAOC,IAAI,IAAK;IACvBV,OAAO,CAACC,GAAG,CAAC,SAAS,EAAES,IAAI,CAAC;IAC5B,IAAI;MACF,MAAMb,MAAM,GAAG,MAAMP,KAAK,CAACqB,IAAI,CAAC,YAAYC,kBAAkB,CAACF,IAAI,CAAC,EAAE,CAAC;MACvE,OAAOb,MAAM,CAACK,IAAI;IACpB,CAAC,CAAC,OAAOM,GAAG,EAAE;MACZR,OAAO,CAACO,KAAK,CAAC,oBAAoB,EAAEC,GAAG,CAAC;IAC1C;EACF,CAAC;EAEDK,YAAY,EAAE,MAAAA,CAAOC,EAAE,EAAEC,UAAU,KAAK;IACtCf,OAAO,CAACC,GAAG,CAAC,cAAc,EAAE;MAAEa,EAAE;MAAEC;IAAW,CAAC,CAAC;IAC/C,IAAI;MACF,MAAMlB,MAAM,GAAG,MAAMP,KAAK,CAAC0B,KAAK,CAAC,UAAUF,EAAE,EAAE,EAAEC,UAAU,EAAE;QAC3DhB,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAAE,OAAOF,MAAM,CAACK,IAAI;IACxB,CAAC,CAAC,OAAOM,GAAG,EAAE;MACZR,OAAO,CAACO,KAAK,CAAC,2BAA2B,EAAEC,GAAG,CAAC;IACjD;EACF,CAAC;EAEDS,UAAU,EAAE,MAAOH,EAAE,IAAK;IACxBd,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEa,EAAE,CAAC;IAC7B,IAAI;MACF,MAAMjB,MAAM,GAAG,MAAMP,KAAK,CAAC4B,MAAM,CAAC,WAAWJ,EAAE,EAAE,CAAC;MAClD,OAAOjB,MAAM,CAACK,IAAI;IACpB,CAAC,CAAC,OAAOM,GAAG,EAAE;MACZR,OAAO,CAACO,KAAK,CAAC,sBAAsB,EAAEC,GAAG,CAAC;IAC5C;EACF;AAEF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}