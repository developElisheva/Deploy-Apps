{"ast":null,"code":"import axios from 'axios';\n\n// תמיד להשתמש ב-URL המלא\nconst API_BASE_URL = 'https://todoapi-2l8v.onrender.com';\nexport default {\n  getTasks: async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/selectAll`);\n      if (!response.ok) return [];\n      const text = await response.text();\n      if (!text) return [];\n      const data = JSON.parse(text);\n      return Array.isArray(data) ? data : [];\n    } catch (err) {\n      return [];\n    }\n  },\n  addTask: async name => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/add?Name=${encodeURIComponent(name)}`, {\n        method: 'POST'\n      });\n      return response.ok;\n    } catch (err) {\n      return false;\n    }\n  },\n  setCompleted: async (id, isComplete) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/update/${id}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(isComplete)\n      });\n      return response.ok;\n    } catch (err) {\n      return false;\n    }\n  },\n  deleteTask: async id => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/delete/${id}`, {\n        method: 'DELETE'\n      });\n      return response.ok;\n    } catch (err) {\n      return false;\n    }\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","getTasks","response","fetch","ok","text","data","JSON","parse","Array","isArray","err","addTask","name","encodeURIComponent","method","setCompleted","id","isComplete","headers","body","stringify","deleteTask"],"sources":["C:/Users/elish/הנדסאים/פרקטיקוד/פרקטיקוד 4/gitHub/Deploy-Apps/ToDoListReact-master/src/service.js"],"sourcesContent":["import axios from 'axios';\n\n// תמיד להשתמש ב-URL המלא\nconst API_BASE_URL = 'https://todoapi-2l8v.onrender.com';\n\nexport default {\n  getTasks: async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/selectAll`);\n      if (!response.ok) return [];\n      \n      const text = await response.text();\n      if (!text) return [];\n      \n      const data = JSON.parse(text);\n      return Array.isArray(data) ? data : [];\n    } catch (err) {\n      return [];\n    }\n  },\n  \n  addTask: async (name) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/add?Name=${encodeURIComponent(name)}`, {\n        method: 'POST'\n      });\n      return response.ok;\n    } catch (err) {\n      return false;\n    }\n  },\n  \n  setCompleted: async (id, isComplete) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/update/${id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(isComplete)\n      });\n      return response.ok;\n    } catch (err) {\n      return false;\n    }\n  },\n  \n  deleteTask: async (id) => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/delete/${id}`, {\n        method: 'DELETE'\n      });\n      return response.ok;\n    } catch (err) {\n      return false;\n    }\n  }\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,YAAY,GAAG,mCAAmC;AAExD,eAAe;EACbC,QAAQ,EAAE,MAAAA,CAAA,KAAY;IACpB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,YAAY,YAAY,CAAC;MACzD,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE,OAAO,EAAE;MAE3B,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClC,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;MAEpB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MAC7B,OAAOI,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE;IACxC,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZ,OAAO,EAAE;IACX;EACF,CAAC;EAEDC,OAAO,EAAE,MAAOC,IAAI,IAAK;IACvB,IAAI;MACF,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,YAAY,aAAac,kBAAkB,CAACD,IAAI,CAAC,EAAE,EAAE;QACnFE,MAAM,EAAE;MACV,CAAC,CAAC;MACF,OAAOb,QAAQ,CAACE,EAAE;IACpB,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZ,OAAO,KAAK;IACd;EACF,CAAC;EAEDK,YAAY,EAAE,MAAAA,CAAOC,EAAE,EAAEC,UAAU,KAAK;IACtC,IAAI;MACF,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,YAAY,WAAWiB,EAAE,EAAE,EAAE;QAC3DF,MAAM,EAAE,OAAO;QACfI,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEb,IAAI,CAACc,SAAS,CAACH,UAAU;MACjC,CAAC,CAAC;MACF,OAAOhB,QAAQ,CAACE,EAAE;IACpB,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZ,OAAO,KAAK;IACd;EACF,CAAC;EAEDW,UAAU,EAAE,MAAOL,EAAE,IAAK;IACxB,IAAI;MACF,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,YAAY,WAAWiB,EAAE,EAAE,EAAE;QAC3DF,MAAM,EAAE;MACV,CAAC,CAAC;MACF,OAAOb,QAAQ,CAACE,EAAE;IACpB,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZ,OAAO,KAAK;IACd;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}